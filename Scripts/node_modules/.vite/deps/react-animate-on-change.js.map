{
  "version": 3,
  "sources": ["../../react-animate-on-change/index.js"],
  "sourcesContent": ["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar events = {\n    start: ['animationstart', 'webkitAnimationStart', 'mozAnimationStart', 'oanimationstart', 'MSAnimationStart'],\n    end: ['animationend', 'webkitAnimationEnd', 'mozAnimationEnd', 'oanimationend', 'MSAnimationEnd'],\n    startRemoved: [],\n    endRemoved: []\n};\n/**\n * # AnimateOnChange component.\n * Adds `animationClassName` when `animate` is true, then removes\n * `animationClassName` when animation is done (event `animationend` is\n * triggered).\n *\n * @prop {string} baseClassName - Base class name.\n * @prop {string} animationClassName - Class added when `animate == true`.\n * @prop {bool} animate - Wheter to animate component.\n */\nvar AnimateOnChange = /** @class */ (function (_super) {\n    __extends(AnimateOnChange, _super);\n    function AnimateOnChange(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { animating: false, clearAnimationClass: false };\n        _this.animationStart = _this.animationStart.bind(_this);\n        _this.animationEnd = _this.animationEnd.bind(_this);\n        _this.setElementRef = function (ref) {\n            _this.elm = ref;\n        };\n        return _this;\n    }\n    AnimateOnChange.prototype.componentDidMount = function () {\n        this.addEventListener('start', this.elm, this.animationStart);\n        this.addEventListener('end', this.elm, this.animationEnd);\n    };\n    AnimateOnChange.prototype.componentWillUnmount = function () {\n        this.removeEventListeners('start', this.elm, this.animationStart);\n        this.removeEventListeners('end', this.elm, this.animationEnd);\n    };\n    AnimateOnChange.prototype.addEventListener = function (type, elm, eventHandler) {\n        // until an event has been triggered bind them all\n        events[type].map(function (event) {\n            // console.log(`adding ${event}`)\n            // @ts-ignore\n            elm.addEventListener(event, eventHandler);\n        });\n    };\n    AnimateOnChange.prototype.removeEventListeners = function (type, elm, eventHandler) {\n        events[type].map(function (event) {\n            // console.log(`removing ${event}`)\n            // @ts-ignore\n            elm.removeEventListener(event, eventHandler);\n        });\n    };\n    AnimateOnChange.prototype.updateEvents = function (type, newEvent) {\n        // console.log(`updating ${type} event to ${newEvent}`)\n        events[type + 'Removed'] = events[type].filter(function (e) { return e !== newEvent; });\n        events[type] = [newEvent];\n    };\n    AnimateOnChange.prototype.animationStart = function (e) {\n        if (events['start'].length > 1) {\n            this.updateEvents('start', e.type);\n            this.removeEventListeners('startRemoved', this.elm, this.animationStart);\n        }\n        this.setState({ animating: true, clearAnimationClass: false });\n    };\n    AnimateOnChange.prototype.animationEnd = function (e) {\n        if (events['end'].length > 1) {\n            this.updateEvents('end', e.type);\n            this.removeEventListeners('endRemoved', this.elm, this.animationStart);\n        }\n        // send separate, animation state change will not render\n        this.setState({ clearAnimationClass: true }); // renders\n        this.setState({ animating: false, clearAnimationClass: false });\n        if (typeof this.props.onAnimationEnd === 'function') {\n            this.props.onAnimationEnd();\n        }\n    };\n    AnimateOnChange.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.state.animating !== nextState.animating) {\n            // do not render on animation change\n            return false;\n        }\n        return true;\n    };\n    AnimateOnChange.prototype.render = function () {\n        var clearAnimationClass = this.state.clearAnimationClass;\n        var _a = this.props, baseClassName = _a.baseClassName, animate = _a.animate, animationClassName = _a.animationClassName, customTag = _a.customTag, children = _a.children, onAnimationEnd = _a.onAnimationEnd, // unpack, such that otherProps does not contain it\n        otherProps = __rest(_a, [\"baseClassName\", \"animate\", \"animationClassName\", \"customTag\", \"children\", \"onAnimationEnd\"]);\n        var className = baseClassName;\n        if (animate && !clearAnimationClass) {\n            className += \" \" + animationClassName;\n        }\n        var Tag = customTag || 'span';\n        return react_1.default.createElement(Tag, __assign({ ref: this.setElementRef, className: className }, otherProps), children);\n    };\n    return AnimateOnChange;\n}(react_1.Component));\nexports.default = AnimateOnChange;\n"],
  "mappings": "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",
  "names": ["AnimateOnChange"]
}
